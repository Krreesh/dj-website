import { Injectable } from '@angular/core';
import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest, HttpResponse } from '@angular/common/http';
import { Observable, of } from 'rxjs';
import { environment } from '../../../environments/environment';

@Injectable()
export class CertificateHttpInterceptor implements HttpInterceptor {
  private readonly apiUrl = 'https://www.dieterjordens.com/api/certificates';

  intercept(httpRequest: HttpRequest<any>, httpHandler: HttpHandler): Observable<HttpEvent<any>> {
    if (!environment.production) {
      console.log('Intercepted request: ' + httpRequest.url);
      if (httpRequest.url === this.apiUrl) {
        return of(new HttpResponse({
          status: 200,
          body: JSON.parse(`[{"name":"ML Conference","issueDate":"2021-06-23","organization":"S&S Media","credentialUrl":"https://mlconference.ai/machine-learning-principles/enhancing-page-visits-by-topic-prediction/","certificateType":"speaker"},{"name":"Java Summit for Developers","issueDate":"2021-03-31","organization":"Geekle","credentialUrl":"https://java.geekle.us/?utm_source=linkedin&utm_medium=speaker&utm_term=DieterJordens","certificateType":"speaker"},{"name":"Ultimate AWS Certified Developer Associate 2020","issueDate":"2020-12-20","organization":"Udemy","credentialUrl":"https://www.udemy.com/certificate/UC-a72146e0-7fd3-43c6-90f6-39d3d4f656ed/","certificateType":"course"},{"name":"Tribe talk: Enhancing Page Visits by Topic Prediction","issueDate":"2020-12-08","organization":"Continuum Consulting NV","credentialUrl":"","certificateType":"speaker"},{"name":"Angular Challenge Finalist","issueDate":"2020-09-01","organization":"NG-BE, Google, Innovatus, Showpad, EDITx","credentialUrl":"","certificateType":"award"},{"name":"ML Conference Online","issueDate":"2020-07-29","organization":"S&S Media","credentialUrl":"","certificateType":"attendee"},{"name":"PyTorch: Deep Learning and Artificial Intelligence","issueDate":"2020-05-01","organization":"Udemy","credentialUrl":"https://www.udemy.com/certificate/UC-ae1c4739-0ce8-4153-bc4d-9492d58aed8c/","certificateType":"course"},{"name":"Docker for beginners","issueDate":"2020-01-19","organization":"Udemy","credentialUrl":"https://www.udemy.com/certificate/UC-KL50738G/","certificateType":"course"},{"name":"Oracle Certified Professional: Java SE 11 Programmer","issueDate":"2019-12-01","organization":"Oracle","credentialUrl":"https://www.youracclaim.com/badges/6479b37c-a8aa-4412-adc4-f7ada40176a6/public_url","certificateType":"certificate"},{"name":"EXIN Agile Scrum Foundation","issueDate":"2019-09-01","organization":"Exin","credentialUrl":"https://exeed.pro/badge/43740","certificateType":"certificate"},{"name":"DDD Event Storming","issueDate":"2019-06-26","organization":"Value Object","credentialUrl":"","certificateType":"course"},{"name":"ML Conference Munich","issueDate":"2019-06-18","organization":"S&S Media","credentialUrl":"","certificateType":"attendee"},{"name":"Angular Challenge Finalist","issueDate":"2019-05-01","organization":"NG-BE, Google, Innovatus, Showpad, EDITx","credentialUrl":"https://photos.google.com/share/AF1QipMGr_Fnj3VeEW0UJ7GJ_71Imb5zBI6m8JhO99nQPDmf_5mOqX9EtOi4rlBuEtU18Q?key=QXplbTItTExCZGhrd0FCNGMzc3Jwd05EVTJRYVlB","certificateType":"award"},{"name":"Deep Learning Specialization","issueDate":"2019-05-01","organization":"Coursera","credentialUrl":"https://www.coursera.org/account/accomplishments/specialization/SXJNRZSW2FNQ","certificateType":"course"},{"name":"AI For Everyone","issueDate":"2019-03-01","organization":"Coursera","credentialUrl":"https://www.coursera.org/account/accomplishments/verify/FL5WAVUSXLXE","certificateType":"course"},{"name":"Devoxx","issueDate":"2018-11-13","organization":"Devoxx","credentialUrl":"","certificateType":"attendee"},{"name":"World Summit AI Amsterdam","issueDate":"2018-10-10","organization":"Inspired Minds","credentialUrl":"","certificateType":"attendee"},{"name":"Re-work Deep Learning Summit London","issueDate":"2018-09-20","organization":"Re-work","credentialUrl":"","certificateType":"attendee"},{"name":"dotAI Paris","issueDate":"2018-05-31","organization":"DotAI","credentialUrl":"http://www.dotai.io","certificateType":"attendee"},{"name":"Professional Scrum Developer I","issueDate":"2017-04-01","organization":"Scrum.org","credentialUrl":"https://www.scrum.org/user/243806","certificateType":"certificate"},{"name":"Angular & Node.js","issueDate":"2017-02-01","organization":"Continuum Consulting NV","credentialUrl":"","certificateType":"course"},{"name":"Angular.js","issueDate":"2016-12-01","organization":"Continuum Consulting NV","credentialUrl":"","certificateType":"course"},{"name":"Android","issueDate":"2016-11-01","organization":"Continuum Consulting NV","credentialUrl":"","certificateType":"course"},{"name":"Oracle Certified Associate, Java SE 8 Programmer","issueDate":"2016-09-01","organization":"Oracle","credentialUrl":"https://www.youracclaim.com/badges/3ec8731f-0c1a-4075-bdf0-b6c8d5f0cbe3/public_url","certificateType":"certificate"}]`)
        }));
      }
    }
    return httpHandler.handle(httpRequest);
  }
}
